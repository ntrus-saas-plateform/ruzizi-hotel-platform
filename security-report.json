{
  "date": "2025-11-14T09:47:40.315Z",
  "totalRoutes": 89,
  "secured": 89,
  "warnings": 0,
  "errors": 0,
  "securityRate": 100,
  "details": [
    {
      "file": "app\\api\\accommodations\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\accommodations\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\alerts\\check\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\analytics\\financial\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\attendance\\checkin\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\attendance\\checkout\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\attendance\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\attendance\\summary\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\attendance\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\audit\\entity\\[entity]\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "authenticateUser",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec authenticateUser"
    },
    {
      "file": "app\\api\\audit\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\audit\\stats\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\auth\\forgot-password\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\auth\\login\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\auth\\logout\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\auth\\me\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\auth\\refresh\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\auth\\register\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\auth\\reset-password\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\backup\\create\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\backup\\delete\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\backup\\list\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\backup\\restore\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\bookings\\occupancy\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\bookings\\walkin\\by-date\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\bookings\\walkin\\daily-revenue\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\bookings\\walkin\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\bookings\\[id]\\checkout\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\bookings\\[id]\\confirm\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\clients\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\clients\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\employees\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\employees\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\establishments\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\establishments\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\expenses\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\expenses\\[id]\\approve\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\expenses\\[id]\\reject\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\expenses\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\hr\\analytics\\kpis\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\hr\\analytics\\report\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\hr\\analytics\\salary-cost\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\hr\\analytics\\turnover\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\invoices\\from-booking\\[bookingId]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\invoices\\route.ts",
      "hasAuth": true,
      "authMethod": "withAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withAuth"
    },
    {
      "file": "app\\api\\invoices\\[id]\\payment\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\invoices\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\leave\\balance\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\leave\\pending\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\leave\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\leave\\[id]\\approve\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\leave\\[id]\\reject\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\leave\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\maintenance\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\maintenance\\[id]\\assign\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\maintenance\\[id]\\complete\\route.ts",
      "hasAuth": true,
      "authMethod": "verifyAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec verifyAuth"
    },
    {
      "file": "app\\api\\maintenance\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "verifyAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec verifyAuth"
    },
    {
      "file": "app\\api\\notifications\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\notifications\\[id]\\read\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\payroll\\generate\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\payroll\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\payroll\\summary\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\payroll\\[id]\\approve\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\payroll\\[id]\\pay\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\payroll\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\performance\\criteria\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\performance\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\performance\\stats\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\performance\\[id]\\acknowledge\\route.ts",
      "hasAuth": true,
      "authMethod": "verifyAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec verifyAuth"
    },
    {
      "file": "app\\api\\performance\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "verifyAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec verifyAuth"
    },
    {
      "file": "app\\api\\performance\\[id]\\submit\\route.ts",
      "hasAuth": true,
      "authMethod": "verifyAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec verifyAuth"
    },
    {
      "file": "app\\api\\public\\accommodations\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\public\\accommodations\\[id]\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\public\\bookings\\by-code\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\public\\bookings\\by-code\\[code]\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\public\\bookings\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\public\\bookings\\[id]\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\public\\establishments\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\public\\establishments\\[id]\\route.ts",
      "hasAuth": false,
      "authMethod": null,
      "needsAuth": false,
      "status": "OK",
      "message": "✅ Route publique (pas d'auth requise)"
    },
    {
      "file": "app\\api\\reports\\comparison\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\reports\\financial\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\reports\\hr\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\reports\\occupancy\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\users\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\users\\stats\\route.ts",
      "hasAuth": true,
      "authMethod": "withRole",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec withRole"
    },
    {
      "file": "app\\api\\users\\[id]\\activate\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\users\\[id]\\deactivate\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    },
    {
      "file": "app\\api\\users\\[id]\\password\\route.ts",
      "hasAuth": true,
      "authMethod": "verifyAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec verifyAuth"
    },
    {
      "file": "app\\api\\users\\[id]\\route.ts",
      "hasAuth": true,
      "authMethod": "requireAuth",
      "needsAuth": true,
      "status": "OK",
      "message": "✅ Sécurisée avec requireAuth"
    }
  ]
}